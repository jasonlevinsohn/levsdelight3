<div class="blogs-wrapper" ng-controller="BlogCtrl">
    <div class="post" ng-repeat="post in posts">
        <div class="post-header">
            <div class="post-title">
                {{post.fields.title}}
            </div>  <!-- .post-title -->
            <div class="post-author-timestamp">
                by {{post.fields.author_id[0]}} on {{post.momentDate}} which was
                 about {{post.momentRelative}}
            </div>  <!-- .post-author-timestamp -->
            <div class="post-body">
                {{post.fields.postText}}
            </div>
            <hr class="post-spacer" />
        </div>  <!-- .post-header -->
        <div class="comments-section" ng-class="{'nothing-yet': !post.comments}">
            <h4>Comments</h4>
            <div class="comments" ng-repeat="comment in post.comments">
                <div class="commenter-name">
                    {{comment.momentRelative}} {{comment.fields.commenter_name}} said:
                </div>
                <div class="comment-body">
                    "{{comment.fields.comment}}"
                </div>
            </div> <!-- .comments -->
        </div> <!-- .comments-section -->
        <div class="add-comment">
            <h4>Add Comment</h4>
            <form ng-submit="addComment()" name="commentForm">
                <fieldset>
                    <label for="comment-name">Name: </label>
                    <input type="text" id="comment-name" name="commentName" ng-model="commentName" required/>
                    <span
                        ng-show="commentForm.commentName.$error.required
                        && commentForm.commentName.$dirty"
                        style="color: red;">
                        &nbsp;Name is required!
                    </span>
                </fieldset>
                <fieldset>
                    <label for="comment-text">Message: </label>
                    <textarea
                        rows="5"
                        cols="40"
                        id="comment-text"
                        name="commentMessage"
                        ng-model="commentMessage"
                        required>
                    </textarea>
                    <span
                        ng-show="commentForm.commentMessage.$error.required
                        && commentForm.commentMessage.$dirty"
                        style="color: red; position: absolute;">
                        &nbsp;Message is required!
                    </span>
                </fieldset>

                <input
                    id="comment-submit"
                    type="submit"
                    value="Post"
                    ng-disabled="commentForm.$invalid" />
            </form>
        </div> <!-- .add-comment -->
    </div> <!-- #post -->
</div>  <!-- .blogs-wrapper -->
